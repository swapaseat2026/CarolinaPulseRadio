<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Upload Music | 2BANGUZHQ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
/* SAME STYLES YOU HAD â€” SAFE */
:root{
  --black:#000;
  --dark:#020402;
  --neon:#39FF14;
  --blue:#00B4FF;
}
*{box-sizing:border-box;font-family:system-ui,-apple-system,Arial,sans-serif}
body{
  min-height:100vh;
  display:grid;
  place-items:center;
  background:
    radial-gradient(900px circle at 20% 15%, rgba(57,255,20,.25), transparent 55%),
    linear-gradient(180deg,#020402,#000);
  color:#fff;
}
.card{
  width:340px;
  padding:24px;
  border-radius:22px;
  background:linear-gradient(180deg,#0a120a,#020402);
  border:1px solid rgba(57,255,20,.35);
}
input,button{
  width:100%;
  padding:12px;
  margin-bottom:10px;
  border-radius:12px;
}
button{
  font-weight:800;
  background:linear-gradient(180deg,var(--neon),#0a120a);
  color:#000;
}
.back{
  background:#020402;
  color:var(--neon);
  border:1px solid rgba(57,255,20,.35);
}
</style>
</head>

<body>

<div class="card">
  <h1>Upload Music</h1>
  <input id="title" placeholder="Song Title">
  <input id="artist" placeholder="Artist Name">
  <input id="file" type="file" accept="audio/*">

  <button onclick="saveTrack()">Save Track</button>
  <button class="back" onclick="goBack()">Back</button>
</div>

<!-- âœ… FIREBASE SDKs â€” CORRECT PLACE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
  // ðŸ”¥ Firebase config
 const firebaseConfig = {
  apiKey: "AIzaSyDWACkdw3uQ6HWlECvs9O81ndEcjVbEMnw",
  authDomain: "banguz-hq-ipod.firebaseapp.com",
  projectId: "banguz-hq-ipod",
  storageBucket: "banguz-hq-ipod.appspot.com",
  messagingSenderId: "887274435554",
  appId: "1:887274435554:web:9e7809541400e4e83effbb"
};

  firebase.initializeApp(firebaseConfig);
  const storage = firebase.storage();
  const db = firebase.firestore();

  function saveTrack(){
    const title = document.getElementById("title").value.trim();
    const artist = document.getElementById("artist").value.trim();
    const file = document.getElementById("file").files[0];

    if(!title || !artist || !file){
      alert("Fill everything");
      return;
    }

    const ref = storage.ref("tracks/" + Date.now() + "_" + file.name);

    ref.put(file)
      .then(snap => snap.ref.getDownloadURL())
      .then(url => {
        return db.collection("tracks").add({
          title,
          artist,
          url,
          created: firebase.firestore.FieldValue.serverTimestamp()
        });
      })
      .then(() => {
        window.location.href = "player.html";
      })
      .catch(err => {
        console.error(err);
        alert("Upload failed");
      });
  }

  function goBack(){
    window.location.href = "player.html";
  }
</script>

</body>
</html>
